# üõ†Ô∏è On-Demand Mechanic & Garage Finder System (Backend)

‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä‡∑ö ‡∑Ä‡∑è‡∑Ñ‡∂± ‡∂ö‡∑è‡∂ª‡∑ä‡∂∏‡∑í‡∂ö ‡∑Å‡∑í‡∂Ω‡∑ä‡∂¥‡∑ì‡∂±‡∑ä (Mechanics) ‡∑É‡∑Ñ ‡∂ú‡∂ª‡∑è‡∂¢‡∑ä (Garages) ‡∂â‡∂≠‡∑è ‡∂â‡∂ö‡∑ä‡∂∏‡∂±‡∑í‡∂±‡∑ä ‡∂¥‡∑è‡∂ª‡∑í‡∂∑‡∑ù‡∂ú‡∑í‡∂ö‡∂∫‡∂±‡∑ä ‡∑Ä‡∑ô‡∂≠ ‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞ ‡∂ö‡∂ª‡∂± ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫‡∂ö Backend ‡∂ö‡∑ú‡∂ß‡∑É ‡∂∏‡∑ô‡∂∫‡∂∫‡∑í. ‡∂∏‡∑ô‡∑Ñ‡∑í Real-time ‡∑É‡∂±‡∑ä‡∂±‡∑í‡∑Ä‡∑ö‡∂Ø‡∂±‡∂∫ ‡∑É‡∑Ñ ‡∂∑‡∑ñ‡∂ú‡∑ù‡∂Ω‡∑ì‡∂∫ ‡∂¥‡∑í‡∑Ñ‡∑í‡∂ß‡∑ì‡∂∏ (Geolocation) ‡∂∏‡∂≠ ‡∂¥‡∂Ø‡∂±‡∂∏‡∑ä ‡∑Ä‡∑ñ ‡∑É‡∑ö‡∑Ä‡∑è ‡∑É‡∂¥‡∂∫‡∂∫‡∑í.

## üöÄ ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∑Ä‡∑í‡∑Å‡∑ö‡∑Ç‡∑è‡∂Ç‡∂ú (Core Features)

* **Geospatial Discovery:** ‡∂¥‡∑è‡∂ª‡∑í‡∂∑‡∑ù‡∂ú‡∑í‡∂ö‡∂∫‡∑è‡∂ú‡∑ö ‡∑Ä‡∂≠‡∑ä‡∂∏‡∂±‡∑ä ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫‡∂ß (Live Location) ‡∂Ü‡∑É‡∂±‡∑ä‡∂±‡∂≠‡∂∏ ‡∂ö‡∑è‡∂ª‡∑ä‡∂∏‡∑í‡∂ö‡∂∫‡∂±‡∑ä ‡∑É‡∑ú‡∂∫‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏.
* **Real-time Service Requests:** Socket.io ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∂∫‡∑ô‡∂±‡∑ä ‡∂ö‡∑ä‡∑Ç‡∂´‡∑í‡∂ö‡∑Ä ‡∑É‡∑ö‡∑Ä‡∑è ‡∂â‡∂Ω‡∑ä‡∂Ω‡∑ì‡∂∏‡∑ä (Requests) ‡∂∫‡∑ê‡∑Ä‡∑ì‡∂∏ ‡∑É‡∑Ñ ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏.
* **Live Chat System:** ‡∂¥‡∑è‡∂ª‡∑í‡∂∑‡∑ù‡∂ú‡∑í‡∂ö‡∂∫‡∑è ‡∑É‡∑Ñ ‡∂ö‡∑è‡∂ª‡∑ä‡∂∏‡∑í‡∂ö‡∂∫‡∑è ‡∂Ö‡∂≠‡∂ª ‡∂≠‡∂≠‡∑ä‚Äç‡∂∫ ‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂¥‡∂´‡∑í‡∑Ä‡∑í‡∂© ‡∑Ñ‡∑î‡∑Ä‡∂∏‡∑è‡∂ª‡∑î‡∑Ä (Real-time messaging) ‡∑É‡∑Ñ 'Seen' status ‡∂¥‡∑Ñ‡∑É‡∑î‡∂ö‡∂∏.
* **Provider Dashboard:** ‡∂Ø‡∑õ‡∂±‡∑í‡∂ö ‡∂Ü‡∂Ø‡∑è‡∂∫‡∂∏ (Earnings) ‡∑É‡∑Ñ ‡∂±‡∑í‡∂∏ ‡∂ö‡∑Ö ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä‡∂±‡∑ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏.
* **Image Uploads:** Multer ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∂∫‡∑ô‡∂±‡∑ä Profile ‡∂¥‡∑í‡∂±‡∑ä‡∂≠‡∑ñ‡∂ª ‡∑É‡∑Ñ ‡∂Ω‡∑ö‡∂õ‡∂± ‡∑É‡∂ª‡∑ä‡∑Ä‡∂ª‡∑ä ‡∂ë‡∂ö ‡∑Ä‡∑ô‡∂≠ Upload ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏.

## üõ†Ô∏è ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∑í‡∂ö ‡∂∏‡∑ô‡∑Ä‡∂Ω‡∂∏‡∑ä (Tech Stack)

* **Runtime:** Node.js
* **Framework:** Express.js
* **Database:** MongoDB (with Mongoose ODM)
* **Real-time:** Socket.io
* **File Handling:** Multer
* **Authentication:** JWT (JSON Web Tokens)

---

## üìÇ ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫‡∑ö ‡∑Ä‡∑ä‚Äç‡∂∫‡∑î‡∑Ñ‡∂∫ (Repository Pattern)

‡∂Ö‡∂¥ ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫ ‡∑Ä‡∂©‡∑è‡∂≠‡∑ä ‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∑Ä‡∂≠‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß Repository Pattern ‡∂ë‡∂ö ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª ‡∂á‡∂≠ (Async/Await ‡∂ª‡∑Ñ‡∑í‡∂≠‡∑Ä Query return ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂∫):
1. **Models:** ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∑É‡∂∏‡∑î‡∂Ø‡∑è‡∂∫‡∑ö ‡∑Ä‡∑ä‚Äç‡∂∫‡∑î‡∑Ñ‡∂∫ (Schema).
2. **Repositories:** Database queries ‡∂¥‡∑Ä‡∂≠‡∑ä‡∑Ä‡∑è‡∂ú‡∑ô‡∂± ‡∂∫‡∑è‡∂∏.
3. **Services:** ‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑è‡∂ª‡∑í‡∂ö ‡∂≠‡∂ª‡∑ä‡∂ö‡∂±‡∂∫ (Business Logic) ‡∂∏‡∑ô‡∑Ñ‡∑ô‡∂∫‡∑Ä‡∑ì‡∂∏.
4. **Controllers:** HTTP ‡∂â‡∂Ω‡∑ä‡∂Ω‡∑ì‡∂∏‡∑ä ‡∑Ä‡∂Ω‡∂ß ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂†‡∑è‡∂ª ‡∂Ø‡∑ê‡∂ö‡∑ä‡∑Ä‡∑ì‡∂∏.
5. **Realtime (Socket Handlers):** ‡∑É‡∂¢‡∑ì‡∑Ä‡∑ì ‡∑É‡∂±‡∑ä‡∂±‡∑í‡∑Ä‡∑ö‡∂Ø‡∂± ‡∂ö‡∂ß‡∂∫‡∑î‡∂≠‡∑î.

---

## üì° ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± API Endpoints

### üë§ ‡∂¥‡∑è‡∂ª‡∑í‡∂∑‡∑ù‡∂ú‡∑í‡∂ö (Customer)
- `GET /api/requests/history` - ‡∂≠‡∂∏‡∂±‡∑ä‡∂ú‡∑ö ‡∂¥‡∑ê‡∂ª‡∂´‡∑í ‡∑É‡∑ö‡∑Ä‡∑è ‡∂â‡∂Ω‡∑ä‡∂Ω‡∑ì‡∂∏‡∑ä ‡∂∂‡∑ê‡∂Ω‡∑ì‡∂∏‡∂ß.
- `POST /api/users/upload-profile` - Profile ‡∂¥‡∑í‡∂±‡∑ä‡∂≠‡∑ñ‡∂ª‡∂∫ ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß.

### üë®‚Äçüîß ‡∑É‡∑ö‡∑Ä‡∑è ‡∑É‡∂¥‡∂∫‡∂±‡∑ä‡∂±‡∑è (Provider)
- `GET /api/requests/provider-stats` - ‡∂Ö‡∂Ø ‡∂Ø‡∑Ä‡∑É‡∑ö ‡∂Ü‡∂Ø‡∑è‡∂∫‡∂∏ ‡∑É‡∑Ñ ‡∑Ä‡∑ê‡∂© ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂∂‡∑ê‡∂Ω‡∑ì‡∂∏‡∂ß.
- `PUT /api/mechanics/available` - ‡∂≠‡∂∏‡∂±‡∑ä‡∂ú‡∑ö ‡∑É‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂∫ ‡∂∑‡∑è‡∑Ä‡∂∫ (Availability) ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß.

### üí¨ ‡∂†‡∑ê‡∂ß‡∑ä (Chat)
- `Socket Event: send_message` - ‡∂¥‡∂´‡∑í‡∑Ä‡∑í‡∂©‡∂∫‡∂ö‡∑ä ‡∂∫‡∑ê‡∑Ä‡∑ì‡∂∏‡∂ß.
- `Socket Event: mark_as_read` - ‡∂¥‡∂´‡∑í‡∑Ä‡∑í‡∂©‡∂∫ ‡∂ö‡∑í‡∂∫‡∑Ä‡∑ñ ‡∂∂‡∑Ä ‡∂Ø‡∑ê‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏‡∂ß.

---

## ‚öôÔ∏è ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫ ‡∑É‡∑ä‡∂Æ‡∑è‡∂¥‡∂±‡∂∫ (Installation)

1. ‡∂∏‡∑ô‡∂∏ ‡∂ú‡∂∂‡∂©‡∑è‡∑Ä (Repository) Clone ‡∂ö‡∂ª‡∂ú‡∂±‡∑ä‡∂±.
2. ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Modules ‡∑É‡∑ä‡∂Æ‡∑è‡∂¥‡∂±‡∂∫ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß `npm install` ‡∑Ä‡∑í‡∂∞‡∑è‡∂±‡∂∫ ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑ô‡∂±‡∑ä‡∂±.
3. `.env` ‡∂ú‡∑ú‡∂±‡∑î‡∑Ä‡∂ö‡∑ä ‡∑É‡∑è‡∂Ø‡∑è ‡∂ë‡∑Ñ‡∑í `MONGO_URI`, `PORT`, ‡∑É‡∑Ñ `JWT_SECRET` ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.
4. ‡∑É‡∂ª‡∑ä‡∑Ä‡∂ª‡∑ä ‡∂ë‡∂ö ‡∂¥‡∂´ ‡∂ú‡∑ê‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏‡∂ß `npm run dev` ‡∑Ä‡∑í‡∂∞‡∑è‡∂±‡∂∫ ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑ô‡∂±‡∑ä‡∂±.

---

## üì∏ Testing with Postman

* **Real-time Testing:** Postman ‡∑Ñ‡∑í Socket.io window ‡∂ë‡∂ö ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª `register`, `send_message` ‡∑Ä‡∑ê‡∂±‡∑í events ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.
* **File Upload:** `form-data` ‡∂∫‡∂ß‡∂≠‡∑ö `profilePic` ‡∂∫‡∂± key ‡∂ë‡∂ö ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª ‡∂¥‡∑í‡∂±‡∑ä‡∂≠‡∑ñ‡∂ª‡∂∫‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è ‡∂ë‡∑Ä‡∂±‡∑ä‡∂±.